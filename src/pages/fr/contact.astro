---
import BaseLayout from '../../components/layout/BaseLayout.astro';
import { generateSEO } from '../../lib/seo/metadata';
import { generateOrganizationSchema, generateBreadcrumbSchema } from '../../lib/seo/jsonld';

const seo = generateSEO({
  title: 'Contactez-Nous - Réservez Votre Consultation IA Gratuite',
  description: 'Planifiez une consultation gratuite de 30 minutes pour discuter de l\'automatisation IA pour votre entreprise touristique. Écrivez-nous à info@jengu.ai ou réservez un appel vidéo. Obtenez des conseils experts en chatbots, automatisation et ROI.',
  canonical: `${Astro.site}fr/contact/`,
  ogType: 'website'
});

const jsonLd = [
  generateOrganizationSchema(),
  generateBreadcrumbSchema([
    { name: 'Accueil', url: Astro.site?.href || '' },
    { name: 'Contact', url: `${Astro.site}fr/contact/` }
  ])
];
---

<BaseLayout seo={seo} jsonLd={jsonLd}>
  <!-- Contact Section -->
  <section class="contact-section">
    <div class="contact-container">
      <!-- Contact Info -->
      <div class="contact-info">
        <div class="contact-card">
          <div class="contact-icon">
            <i class="fas fa-envelope"></i>
          </div>
          <h3>Écrivez-Nous</h3>
          <p>Pour les demandes générales et le support</p>
          <a href="mailto:info@jengu.ai">info@jengu.ai</a>
        </div>

        <div class="contact-card">
          <div class="contact-icon">
            <i class="fas fa-calendar-alt"></i>
          </div>
          <h3>Réservez une Démo</h3>
          <p>Planifiez une consultation personnalisée de 30 minutes pour discuter de vos besoins d'automatisation</p>
          <a href="https://calendly.com/jengu-meeting/30min" target="_blank">Réservez Maintenant →</a>
        </div>

        <div class="contact-card">
          <div class="contact-icon">
            <i class="fas fa-calculator"></i>
          </div>
          <h3>Calculez Votre ROI</h3>
          <p>Découvrez vos économies potentielles en 2 minutes</p>
          <a href="#" onclick="handleCalculatorClick(event); return false;">Essayer la Calculatrice →</a>
        </div>
      </div>

      <!-- Contact Form -->
      <div class="contact-form-wrapper">
        <h2>Envoyez-Nous un Message</h2>
        <p style="color: var(--gray); margin-bottom: 2rem;">Remplissez le formulaire ci-dessous et nous vous répondrons dans les 24 heures</p>

        <form id="contactForm" onsubmit="handleSubmit(event)">
          <div class="form-row">
            <div class="form-group">
              <label for="firstName">Prénom *</label>
              <input type="text" id="firstName" name="firstName" required>
            </div>
            <div class="form-group">
              <label for="lastName">Nom *</label>
              <input type="text" id="lastName" name="lastName" required>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="email">Email *</label>
              <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
              <label for="phone">Téléphone</label>
              <input type="tel" id="phone" name="phone">
            </div>
          </div>

          <div class="form-group">
            <label for="businessType">Type d'Entreprise *</label>
            <select id="businessType" name="businessType" required>
              <option value="">Sélectionnez votre type d'entreprise</option>
              <option value="hotel">Hôtel</option>
              <option value="resort">Resort</option>
              <option value="campsite">Camping/Parc de Vacances</option>
              <option value="bnb">Gîte/Maison d'Hôte</option>
              <option value="travel-agency">Agence de Voyage</option>
              <option value="tour-operator">Voyagiste</option>
              <option value="other">Autre</option>
            </select>
          </div>

          <div class="form-group">
            <label for="interest">À quoi vous intéressez-vous ? *</label>
            <select id="interest" name="interest" required>
              <option value="">Sélectionnez un service</option>
              <option value="chatbot">Chatbots IA et Bots Téléphoniques</option>
              <option value="software">Développement Logiciel Personnalisé</option>
              <option value="api">Intégrations API</option>
              <option value="email">Automatisation Email</option>
              <option value="pricing">Tarification Dynamique</option>
              <option value="full">Suite d'Automatisation Complète</option>
              <option value="consultation">Exploration / Consultation</option>
            </select>
          </div>

          <div class="form-group">
            <label for="message">Parlez-nous de vos besoins *</label>
            <textarea id="message" name="message" required placeholder="Décrivez vos défis actuels et vos objectifs..."></textarea>
          </div>

          <button type="submit" class="submit-btn">
            <i class="fas fa-paper-plane"></i> Envoyer
          </button>
        </form>
      </div>
    </div>
  </section>

  <!-- Calendly CTA -->
  <section class="calendly-section">
    <div class="calendly-container">
      <h2>Préférez Discuter ? <span class="gradient-text">Réservez un Appel</span></h2>
      <p>
        Planifiez une consultation vidéo de 30 minutes avec notre équipe. Nous discuterons de vos besoins spécifiques, vous montrerons des exemples concrets et vous expliquerons comment l'automatisation IA peut transformer votre entreprise.
      </p>
      <a href="https://calendly.com/jengu-meeting/30min" target="_blank" class="calendly-btn">
        <i class="fas fa-video"></i> Réservez une Consultation
      </a>
    </div>
  </section>

  <!-- Form Submission Script -->
  <script is:inline>
    function handleSubmit(event) {
      event.preventDefault();

      // Get form data
      const formData = new FormData(event.target);
      const data = Object.fromEntries(formData);

      // In production, you would send this to your backend
      console.log('Form submitted:', data);

      // Show success message
      alert('Merci pour votre message ! Nous vous répondrons dans les 24 heures.');

      // Reset form
      event.target.reset();
    }
  </script>
</BaseLayout>
